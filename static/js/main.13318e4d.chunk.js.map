{"version":3,"sources":["js/store/vk/actions.js","js/store/vk/actionTypes.js","js/services/VK.js","js/services/_functions.js","js/store/router/reducers.js","js/store/vk/reducers.js","js/store/formData/reducers.js","js/store/reducers.js","js/store/router/actionTypes.js","js/store/formData/actionTypes.js","js/store/router/actions.js","js/panels/home/base.js","js/components/GroupCell.js","js/services/renderers.js","js/panels/home/groups.js","js/panels/more/base.js","js/panels/work/base.js","js/panels/more/example.js","js/store/formData/actions.js","js/components/modals/HomeBotsListModal.js","js/components/modals/HomeBotInfoModal.js","App.js","index.js"],"names":["setAccessToken","accessToken","type","payload","setActiveTab","component","tab","setScrollPositionByID","initApp","dispatch","VKConnect","subscribe","VKConnectCallback","e","detail","unsubscribe","data","scheme","send","then","catch","error","APICall","method","params","store","getState","vkui","undefined","response","restoreScrollPosition","scrolls","componentScroll","Object","keys","forEach","componentData","element","document","getElementById","getElementsByClassName","scrollLeft","x","scrollTop","y","getActivePanel","view","panel","router","activePanel","panelsHistory","length","initialState","activeStory","activeView","storiesHistory","viewsHistory","activeModals","modalHistory","popouts","scrollPosition","colorScheme","activeTab","forms","combineReducers","state","arguments","action","objectSpread","defineProperty","View","Panel","window","history","pushState","viewIndexInHistory","indexOf","splice","concat","toConsumableArray","pageYOffset","story","initial_panel","firstPanel","shift","firstView","scrollTo","smoothScrollToTop","c","documentElement","body","requestAnimationFrame","setView","setPanel","setStory","popoutsData","viewModalsHistory","activeModal","push","pop","panelsHistoryNew","status","popout","id","modalsHistory","formData","form","setPage","goBack","openPopout","closePopout","openModal","closeModal","HomePanelBase","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_this2","setState","react_default","a","createElement","dist","setTimeout","_this3","actions","title","autoclose","style","href","onClose","size","icon","recent","width","height","header","React","Component","mapDispatchToProps","connect","GroupCell","_this$props","description","photo","name","desc","before","src","PureComponent","renderGroupsList","items","groups","map","group","components_GroupCell","key","photo_100","HomePanelGroups","admined","other","loading","errorGetAuthToken","getAuthToken","getGroupsList","scope","app_id","join","access_token","prevProps","prevState","snapshot","localStorage","getItem","JSON","parse","extended","fields","count","adminedGroups","filter","item","is_admin","otherGroups","setItem","stringify","adminedGroupsList","otherGroupsList","left","onClick","stretched","mode","bindActionCreators","HomePanelProfile","snackbar","background","error_circle","fill","transitionMotionEnabled","users","home","favorite","caption","after","subtitle","image","maxHeight","defaultInputData","workplace","workposition","checkboxPhoto","checkboxOnline","inputData","handleInput","value","currentTarget","checked","clearForm","setFormData","top","onChange","placeholder","autoComplete","className","formName","bots","avatar","HomeBotsListModal","platform","IOS","cancel_default","right","dismiss_default","settlingHeight","bot","index","asideContent","chevron_default","withPlatform","Appf","withAdaptivity","_React$Component","App","lastAndroidBackAction","showsneg","inherits","createClass","VK","onpopstate","timeNow","Date","_this$props2","pageScrollPosition","scroll","_this$props3","homeModals","modals_HomeBotsListModal","HomeBotInfoModal","block_outline","tabbar","selected","text","home_outline","book_outline","menu","modal","onSwipeBack","base","withoutEpic","home_groups","work_base","more_base","example","_this4","_this$props4","_this$props5","_this$props6","viewWidth","useAdaptivity","separator","spaced","ViewWidth","MOBILE","__webpack_require__","d","__webpack_exports__","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","react_redux_es","src_App"],"mappings":"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","file":"static/js/main.13318e4d.chunk.js","sourcesContent":["import {\r\n    SET_COLOR_SCHEME,\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nexport const setColorScheme = (scheme) => (\r\n    {\r\n        type: SET_COLOR_SCHEME,\r\n        payload: scheme\r\n    }\r\n);\r\n\r\nexport const setAccessToken = (accessToken) => (\r\n    {\r\n        type: SET_ACCESS_TOKEN,\r\n        payload: accessToken\r\n    }\r\n);\r\n\r\nexport const setActiveTab = (component, tab) => (\r\n    {\r\n        type: SET_ACTIVE_TAB,\r\n        payload: {\r\n            component,\r\n            tab\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPosition = (component, x = 0, y = 0) => (\r\n    {\r\n        type: SET_SCROLL_POSITION,\r\n        payload: {\r\n            component,\r\n            x,\r\n            y\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPositionByID = (component) => (\r\n    {\r\n        type: SET_SCROLL_POSITION_BY_ID,\r\n        payload: {\r\n            component\r\n        }\r\n    }\r\n);","export const SET_COLOR_SCHEME = 'SET_COLOR_SCHEME';\r\nexport const SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN';\r\nexport const SET_ACTIVE_TAB = 'SET_ACTIVE_TAB';\r\nexport const SET_SCROLL_POSITION = 'SET_SCROLL_POSITION';\r\nexport const SET_SCROLL_POSITION_BY_ID = 'SET_SCROLL_POSITION_BY_ID';","import VKConnect from \"@vkontakte/vk-connect\";\r\n\r\nimport {store} from \"../../index\";\r\n\r\nimport {setColorScheme, setAccessToken} from \"../store/vk/actions\";\r\n\r\nconst APP_ID = 7820245;\r\nconst API_VERSION = '5.92';\r\n\r\nexport const initApp = () => (dispatch) => {\r\n    const VKConnectCallback = (e) => {\r\n        if (e.detail.type === 'VKWebAppUpdateConfig') {\r\n            VKConnect.unsubscribe(VKConnectCallback);\r\n\r\n            dispatch(setColorScheme(e.detail.data.scheme));\r\n        }\r\n    };\r\n\r\n    VKConnect.subscribe(VKConnectCallback);\r\n    return VKConnect.send('VKWebAppInit', {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const getAuthToken = (scope) => (dispatch) => {\r\n    VKConnect.send(\"VKWebAppGetAuthToken\", {\r\n        \"app_id\": APP_ID,\r\n        \"scope\": scope.join(',')\r\n    }).then(data => {\r\n        dispatch(setAccessToken(data.access_token));\r\n    }).catch(() => {\r\n        dispatch(setAccessToken(null));\r\n    });\r\n};\r\n\r\nexport const closeApp = () => {\r\n    return VKConnect.send(\"VKWebAppClose\", {\r\n        \"status\": \"success\"\r\n    }).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const swipeBackOn = () => {\r\n    return VKConnect.send(\"VKWebAppEnableSwipeBack\", {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const swipeBackOff = () => {\r\n    return VKConnect.send(\"VKWebAppDisableSwipeBack\", {}).then(data => {\r\n        return data;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n\r\nexport const groupsGet = () => {\r\n    return APICall('groups.get', {\r\n        \"extended\": \"1\",\r\n        \"fields\": \"description\",\r\n        \"count\": \"100\"\r\n    });\r\n};\r\n\r\nexport const APICall = (method, params) => {\r\n    params['access_token'] = store.getState().vkui.accessToken;\r\n    params['v'] = params['v'] === undefined ? API_VERSION : params['v'];\r\n\r\n    return VKConnect.send(\"VKWebAppCallAPIMethod\", {\r\n        \"method\": method,\r\n        \"params\": params\r\n    }).then(data => {\r\n        return data.response;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};\r\n","import {store} from \"../../index\";\r\n\r\nexport const smoothScrollToTop = () => {\r\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\r\n\r\n    if (c > 30) {\r\n        return;\r\n    }\r\n\r\n    if (c > 0) {\r\n        window.requestAnimationFrame(smoothScrollToTop);\r\n        window.scrollTo(0, c - c / 8);\r\n    }\r\n};\r\n\r\nexport const restoreScrollPosition = () => {\r\n    let scrolls = store.getState().vkui.componentScroll;\r\n\r\n    Object.keys(scrolls).forEach((component) => {\r\n        let componentData = scrolls[component];\r\n\r\n        let element = document.getElementById(component);\r\n\r\n        if (element) {\r\n            element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            element.scrollLeft = componentData.x;\r\n            element.scrollTop = componentData.y;\r\n        }\r\n    });\r\n};\r\n\r\nexport const getActivePanel = (view) => {\r\n    let panel = store.getState().router.activePanel;\r\n\r\n    let panelsHistory = store.getState().router.panelsHistory;\r\n    if (typeof panelsHistory[view] !== \"undefined\") {\r\n        panel = panelsHistory[view][panelsHistory[view].length - 1];\r\n    }\r\n\r\n    return panel;\r\n};\r\n","import {\r\n    SET_PAGE,\r\n    GO_BACK,\r\n    OPEN_POPOUT,\r\n    CLOSE_POPOUT,\r\n    OPEN_MODAL,\r\n    CLOSE_MODAL,\r\n    SET_STORY\r\n} from './actionTypes';\r\n\r\nimport * as VK from \"../../services/VK\";\r\nimport {smoothScrollToTop} from \"../../services/_functions\";\r\n\r\nconst initialState = {\r\n    activeStory: null,\r\n    activeView: null,\r\n    activePanel: null,\r\n\r\n    storiesHistory: [],\r\n    viewsHistory: [],\r\n    panelsHistory: [],\r\n\r\n    activeModals: [],\r\n    modalHistory: [],\r\n    popouts: [],\r\n\r\n    scrollPosition: []\r\n};\r\n\r\nexport const routerReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_PAGE: {\r\n            let View = action.payload.view;\r\n            let Panel = action.payload.panel;\r\n\r\n            window.history.pushState(null, null);\r\n\r\n            let panelsHistory = state.panelsHistory[View] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n\r\n            const viewIndexInHistory = viewsHistory.indexOf(View);\r\n\r\n            if (viewIndexInHistory !== -1) {\r\n                viewsHistory.splice(viewIndexInHistory, 1);\r\n            }\r\n\r\n            if (panelsHistory.indexOf(Panel) === -1) {\r\n                panelsHistory = [...panelsHistory, Panel];\r\n            }\r\n\r\n            if (panelsHistory.length > 1) {\r\n                VK.swipeBackOn();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: View,\r\n                activePanel: Panel,\r\n\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [View]: panelsHistory,\r\n                },\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeStory]: [...viewsHistory, View]\r\n                },\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case SET_STORY: {\r\n            window.history.pushState(null, null);\r\n\r\n            let viewsHistory = state.viewsHistory[action.payload.story] || [action.payload.story];\r\n\r\n            let storiesHistory = state.storiesHistory;\r\n            let activeView = viewsHistory[viewsHistory.length - 1];\r\n            let panelsHistory = state.panelsHistory[activeView] || [action.payload.initial_panel];\r\n            let activePanel = panelsHistory[panelsHistory.length - 1];\r\n\r\n            if (action.payload.story === state.activeStory) {\r\n                if (panelsHistory.length > 1) {\r\n                    let firstPanel = panelsHistory.shift();\r\n                    panelsHistory = [firstPanel];\r\n\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                } else if (viewsHistory.length > 1) {\r\n                    let firstView = viewsHistory.shift();\r\n                    viewsHistory = [firstView];\r\n\r\n                    activeView = viewsHistory[viewsHistory.length - 1];\r\n                    panelsHistory = state.panelsHistory[activeView];\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                }\r\n            }\r\n\r\n            if (action.payload.story === state.activeStory && panelsHistory.length === 1 && window.pageYOffset > 0) {\r\n                window.scrollTo(0, 30);\r\n\r\n                smoothScrollToTop();\r\n            }\r\n\r\n            const storiesIndexInHistory = storiesHistory.indexOf(action.payload.story);\r\n\r\n            if (storiesIndexInHistory === -1 || (storiesHistory[0] === action.payload.story && storiesHistory[storiesHistory.length - 1] !== action.payload.story)) {\r\n                storiesHistory = [...storiesHistory, action.payload.story];\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeStory: action.payload.story,\r\n                activeView: activeView,\r\n                activePanel: activePanel,\r\n\r\n                storiesHistory: storiesHistory,\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [activeView]: panelsHistory\r\n                },\r\n\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case GO_BACK: {\r\n            let setView = state.activeView;\r\n            let setPanel = state.activePanel;\r\n            let setStory = state.activeStory;\r\n\r\n            let popoutsData = state.popouts;\r\n\r\n            if (popoutsData[setView]) {\r\n                popoutsData[setView] = null;\r\n\r\n                return {\r\n                    ...state,\r\n                    popouts: {\r\n                        ...state.popouts, popoutsData\r\n                    }\r\n                };\r\n            }\r\n\r\n            let viewModalsHistory = state.modalHistory[setView];\r\n\r\n            if (viewModalsHistory !== undefined && viewModalsHistory.length !== 0) {\r\n                let activeModal = viewModalsHistory[viewModalsHistory.length - 2] || null;\r\n\r\n                if (activeModal === null) {\r\n                    viewModalsHistory = [];\r\n                } else if (viewModalsHistory.indexOf(activeModal) !== -1) {\r\n                    viewModalsHistory = viewModalsHistory.splice(0, viewModalsHistory.indexOf(activeModal) + 1);\r\n                } else {\r\n                    viewModalsHistory.push(activeModal);\r\n                }\r\n\r\n                return {\r\n                    ...state,\r\n                    activeModals: {\r\n                        ...state.activeModals,\r\n                        [setView]: activeModal\r\n                    },\r\n                    modalHistory: {\r\n                        ...state.modalHistory,\r\n                        [setView]: viewModalsHistory\r\n                    }\r\n                };\r\n            }\r\n\r\n            let panelsHistory = state.panelsHistory[setView] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n            let storiesHistory = state.storiesHistory;\r\n\r\n            if (panelsHistory.length > 1) {\r\n                panelsHistory.pop();\r\n\r\n                setPanel = panelsHistory[panelsHistory.length - 1];\r\n            } else if (viewsHistory.length > 1) {\r\n                viewsHistory.pop();\r\n\r\n                setView = viewsHistory[viewsHistory.length - 1];\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n            } else if (storiesHistory.length > 1) {\r\n                storiesHistory.pop();\r\n\r\n                setStory = storiesHistory[storiesHistory.length - 1];\r\n                setView = state.viewsHistory[setStory][state.viewsHistory[setStory].length - 1];\r\n\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                if (panelsHistoryNew.length > 1) {\r\n                    setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n                } else {\r\n                    setPanel = panelsHistoryNew[0];\r\n                }\r\n            } else {\r\n                VK.closeApp();\r\n            }\r\n\r\n            if (panelsHistory.length === 1) {\r\n                VK.swipeBackOff();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: setView,\r\n                activePanel: setPanel,\r\n                activeStory: setStory,\r\n\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [state.activeView]: panelsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_POPOUT: {\r\n            window.history.pushState(null, null);\r\n\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: action.payload.popout\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_POPOUT: {\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: null\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_MODAL: {\r\n            window.history.pushState(null, null);\r\n\r\n            let activeModal = action.payload.id || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_MODAL: {\r\n            let activeModal = state.modalHistory[state.activeView][state.modalHistory[state.activeView].length - 2] || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n","import {\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_COLOR_SCHEME,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nconst initialState = {\r\n    accessToken: undefined,\r\n    colorScheme: 'client_light',\r\n\r\n    activeTab: [],\r\n    componentScroll: []\r\n};\r\n\r\nexport const vkuiReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_COLOR_SCHEME: {\r\n            return {\r\n                ...state,\r\n                colorScheme: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACCESS_TOKEN: {\r\n            return {\r\n                ...state,\r\n                accessToken: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACTIVE_TAB: {\r\n            return {\r\n                ...state,\r\n                activeTab: {\r\n                    ...state.activeTab,\r\n                    [action.payload.component]: action.payload.tab\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION: {\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: action.payload.x,\r\n                        y: action.payload.y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION_BY_ID: {\r\n            let element = document.getElementById(action.payload.component).getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            let x = element.scrollLeft;\r\n            let y = element.scrollTop;\r\n\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: x,\r\n                        y: y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};","import {SET_FORM_DATA} from './actionTypes';\r\n\r\nconst initialState = {\r\n    forms: []\r\n};\r\n\r\nexport const formDataReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_FORM_DATA: {\r\n            return {\r\n                ...state,\r\n                forms: {\r\n                    ...state.forms,\r\n                    [action.payload.form]: action.payload.data\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n\r\n    }\r\n\r\n};","import {combineReducers} from \"redux\";\r\nimport {routerReducer} from './router/reducers';\r\nimport {vkuiReducer} from './vk/reducers';\r\nimport {formDataReducer} from \"./formData/reducers\";\r\n\r\nexport default combineReducers({\r\n    vkui: vkuiReducer,\r\n    router: routerReducer,\r\n    formData: formDataReducer\r\n});","export const SET_PAGE = 'SET_PAGE';\r\nexport const SET_STORY = 'SET_STORY';\r\nexport const GO_BACK = 'GO_BACK';\r\nexport const OPEN_POPOUT = 'OPEN_POPOUT';\r\nexport const CLOSE_POPOUT = 'CLOSE_POPOUT';\r\nexport const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';","export const SET_FORM_DATA = 'SAVE_FORM_DATA';","import {SET_PAGE, SET_STORY, GO_BACK, OPEN_POPOUT, CLOSE_POPOUT, OPEN_MODAL, CLOSE_MODAL} from './actionTypes';\r\n\r\nexport const setStory = (story, initial_panel) => (\r\n    {\r\n        type: SET_STORY,\r\n        payload: {\r\n            story: story,\r\n            initial_panel: initial_panel,\r\n        }\r\n    }\r\n);\r\n\r\nexport const setPage = (view, panel) => (\r\n    {\r\n        type: SET_PAGE,\r\n        payload: {\r\n            view: view,\r\n            panel: panel\r\n        }\r\n    }\r\n);\r\n\r\nexport const goBack = () => (\r\n    {\r\n        type: GO_BACK\r\n    }\r\n);\r\n\r\nexport const openPopout = (popout) => (\r\n    {\r\n        type: OPEN_POPOUT,\r\n        payload: {\r\n            popout: popout\r\n        }\r\n    }\r\n);\r\n\r\nexport const closePopout = () => (\r\n    {\r\n        type: CLOSE_POPOUT\r\n    }\r\n);\r\n\r\nexport const openModal = (id) => (\r\n    {\r\n        type: OPEN_MODAL,\r\n        payload: {\r\n            id\r\n        }\r\n    }\r\n);\r\n\r\nexport const closeModal = () => (\r\n    {\r\n        type: CLOSE_MODAL\r\n    }\r\n);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {closePopout, goBack, openModal, openPopout, setPage} from '../../store/router/actions';\r\n\r\nimport {Panel, Alert, Group, PanelHeader, ScreenSpinner, Placeholder, Spacing, Separator} from \"@vkontakte/vkui\"\r\n\r\nimport { Icon16Recent } from '@vkontakte/icons';\r\n\r\nclass HomePanelBase extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n          popout: null\r\n        }\r\n      }\r\n    \r\n    onClick () {\r\n        this.setState({ popout: <ScreenSpinner /> });\r\n        setTimeout(() => { this.setState({ popout: null }) }, 2000);\r\n    }\r\n\r\n    openPopout() {\r\n        this.props.openPopout(\r\n            <Alert\r\n                actions={[{\r\n                    title: 'Нет',\r\n                    autoclose: true,\r\n                    style: 'cancel',\r\n                }, {\r\n                    title: 'Да',\r\n                    autoclose: true,\r\n                    action: {\r\n                        href: 'https://vk.com/cm_daddy'\r\n                    }\r\n                }]}\r\n                onClose={() => this.props.closePopout()}\r\n            >\r\n                <p>Вы действительно хотите перейти по ссылке?</p>\r\n            </Alert>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const {id} = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <Spacing size={8} />\r\n                <PanelHeader>Главная</PanelHeader>\r\n                <Separator />\r\n\r\n                <Group>\r\n                    <Placeholder\r\n                            icon={<Icon16Recent width={56} height={56} />}\r\n                            header=\"Тех. работы\"\r\n                        >\r\n                            Данная вкладка не доступна по техническим причинам\r\n                    </Placeholder>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    setPage,\r\n    goBack,\r\n    openPopout,\r\n    closePopout,\r\n    openModal\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(HomePanelBase);\r\n","import React, {PureComponent} from 'react';\r\n\r\nimport {Cell, Avatar} from \"@vkontakte/vkui\";\r\n\r\nclass GroupCell extends PureComponent {\r\n\r\n    render() {\r\n        const {description, photo, name} = this.props;\r\n\r\n        let desc = description.length > 0 ? description : \"Описание отсутствует\";\r\n\r\n        return (\r\n            <Cell\r\n                description={desc}\r\n                before={<Avatar size={40} src={photo}/>}\r\n            >\r\n                {name}\r\n            </Cell>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default GroupCell;","import React from 'react';\r\nimport GroupCell from '../components/GroupCell';\r\n\r\nexport const renderGroupsList = (items) => {\r\n    let groups = null;\r\n    if (items !== undefined && items !== null && items.length !== 0) {\r\n        groups = items.map((group) => (\r\n            <GroupCell\r\n                key={group.id}\r\n                description={group.description}\r\n                photo={group.photo_100}\r\n                name={group.name}/>\r\n        ));\r\n    }\r\n    return groups;\r\n};","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from \"redux\";\r\n\r\nimport {goBack, openPopout, closePopout, openModal} from \"../../store/router/actions\";\r\nimport * as VK from '../../services/VK';\r\n\r\nimport {renderGroupsList} from '../../services/renderers';\r\n\r\nimport {Div, List, Panel, Group, Button, PanelHeader, PanelSpinner, PanelHeaderBack, Header} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelGroups extends React.Component {\r\n\r\n    state = {\r\n        groups: {\r\n            admined: [],\r\n            other: [],\r\n        },\r\n        loading: true,\r\n        errorGetAuthToken: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.props.accessToken === undefined) {\r\n            this.getAuthToken();\r\n        } else {\r\n            this.getGroupsList();\r\n        }\r\n    }\r\n\r\n    getAuthToken() {\r\n        this.props.dispatch(VK.getAuthToken(['groups']));\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props !== prevProps) {\r\n            if (this.props.accessToken === null) {\r\n                this.setState({\r\n                    loading: false,\r\n                    errorGetAuthToken: true\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loading: true,\r\n                    errorGetAuthToken: false\r\n                });\r\n\r\n                this.getGroupsList();\r\n            }\r\n        }\r\n    }\r\n\r\n    async getGroupsList() {\r\n        if (localStorage.getItem('userGroupsAdmined') && localStorage.getItem('userGroupsOther')) {\r\n            this.setState({\r\n                groups: {\r\n                    admined: JSON.parse(localStorage.getItem('userGroupsAdmined')),\r\n                    other: JSON.parse(localStorage.getItem('userGroupsOther')),\r\n                },\r\n                loading: false\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        let groups = await VK.groupsGet();\r\n\r\n        let adminedGroups = groups.items.filter(function (item) {\r\n            return item.is_admin === 1;\r\n        });\r\n\r\n        let otherGroups = groups.items.filter(function (item) {\r\n            return item.is_admin === 0;\r\n        });\r\n\r\n        localStorage.setItem('userGroupsAdmined', JSON.stringify(adminedGroups));\r\n        localStorage.setItem('userGroupsOther', JSON.stringify(otherGroups));\r\n\r\n        this.setState({\r\n            groups: {\r\n                admined: adminedGroups,\r\n                other: otherGroups\r\n            },\r\n            loading: false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {id, goBack} = this.props;\r\n\r\n        let adminedGroupsList = renderGroupsList(this.state.groups.admined);\r\n        let otherGroupsList = renderGroupsList(this.state.groups.other);\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\r\n                >\r\n                    Группы\r\n                </PanelHeader>\r\n                \r\n                {this.state.loading && <PanelSpinner/>}\r\n                {!this.state.loading && this.state.errorGetAuthToken && <Group>\r\n                    <Div>Возникла ошибка при получении данных, возможно Вы не выдали права на список групп.</Div>\r\n                    <Div>\r\n                        <Button size=\"l\" stretched={true} onClick={() => this.getAuthToken()}>Запросить\r\n                            повторно</Button>\r\n                    </Div>\r\n                </Group>}\r\n                {!this.state.loading && !this.state.errorGetAuthToken && adminedGroupsList &&\r\n                <Group header={\r\n                    <Header mode=\"secondary\">Администрируемые</Header>\r\n                }>\r\n                    <List>\r\n                        {adminedGroupsList}\r\n                    </List>\r\n                </Group>}\r\n                {!this.state.loading && !this.state.errorGetAuthToken && otherGroupsList &&\r\n                <Group header={\r\n                    <Header mode=\"secondary\">Остальные</Header>\r\n                }>\r\n                    <List>\r\n                        {otherGroupsList}\r\n                    </List>\r\n                </Group>}\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({goBack, openPopout, closePopout, openModal}, dispatch)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accessToken: state.vkui.accessToken\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelGroups);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {setPage} from \"../../store/router/actions\";\r\nimport {setActiveTab, setScrollPositionByID} from \"../../store/vk/actions\";\r\nimport {restoreScrollPosition} from \"../../services/_functions\";\r\n\r\nimport VKConnect from \"@vkontakte/vk-connect\";\r\nimport \"@vkontakte/vkui/dist/vkui.css\";\r\n\r\nimport {\r\n    Panel,\r\n    Group,\r\n    PanelHeader,\r\n    Snackbar,\r\n    Avatar,\r\n    SimpleCell,\r\n    PanelHeaderBack,\r\n    RichCell,\r\n    Footer,\r\n    Spacing,\r\n    Separator\r\n} from \"@vkontakte/vkui\";\r\n\r\nimport {closePopout, openModal, openPopout} from '../../store/router/actions';\r\n\r\nimport { \r\n    Icon16ErrorCircle,\r\n    Icon24Home,\r\n    Icon24Users,\r\n    Icon24Favorite,\r\n} from '@vkontakte/icons';\r\n\r\nimport {View} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelProfile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n        this.state = {\r\n            activePanel: 'base',\r\n            snackbar: null\r\n        };\r\n      }\r\n\r\n    openBaseWithAction () {\r\n        if (this.state.snackbar) return;\r\n            this.setState({ snackbar:\r\n                <Snackbar\r\n                    onClose={() => this.setState({ snackbar: null })}\r\n                    before={<Avatar size={22} style={{ background: 'white' }}><Icon16ErrorCircle fill=\"#FF0000\" width={24} height={24} /></Avatar>}\r\n                >\r\n                    Что-то пошло не так\r\n                </Snackbar>\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        restoreScrollPosition();\r\n    }\r\n\r\n    // openPopout() {\r\n    //     this.props.openPopout(\r\n    //         <Alert\r\n    //             actions={[{\r\n    //                 title: 'Понятно',\r\n    //                 autoclose: true,\r\n    //                 style: 'cancel',\r\n    //             }\r\n    //         ]}\r\n    //             onClose={() => this.props.closePopout()}\r\n    //         >   \r\n    //             <div style={{ \r\n    //                 display: 'flex',\r\n    //                 flexDirection: 'column',\r\n    //                 alignItems: 'center',\r\n    //                 justifyContent: 'center',\r\n    //                 textAlign: 'center',\r\n    //                 padding: 32, \r\n    //             }}>\r\n    //                 <Icon56GhostOutline fill=\"#20E5F3\" width={96} height={96} />\r\n    //                 <h1>Тех. Работы</h1>\r\n    //                 <p>Введутся Тех. работы..<br/>Как всё будет готово, мы Вас оповестим в нашей группе.</p>\r\n    //             </div>\r\n                \r\n    //         </Alert>\r\n    //     );\r\n    // }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <View transitionMotionEnabled=\"false\" activePanel={this.state.activePanel}>\r\n                \r\n                <Panel id=\"base\">\r\n                    <Spacing size={8} />\r\n                    <PanelHeader>\r\n                        Ещё\r\n                    </PanelHeader>\r\n                    <Separator />\r\n\r\n                    <Group>\r\n                            <SimpleCell before={<Icon24Users fill=\"#933CA5\" />} onClick={() => this.setState({ activePanel: 'sostave' })}>Состав</SimpleCell>\r\n                            <SimpleCell before={<Icon24Home fill=\"#933CA5\" />} onClick={() => VKConnect.send(\"VKWebAppAddToHomeScreen\")}>Добавить на главный экран</SimpleCell>\r\n                            <SimpleCell before={<Icon24Favorite fill=\"#933CA5\" />} onClick={() => VKConnect.send(\"VKWebAppAddToFavorites\").catch(VKConnect.send(\"VKWebAppTapticNotificationOccurred\"))}>Добавить в избранное</SimpleCell>\r\n                    </Group>\r\n\r\n                </Panel>\r\n\r\n                <Panel id=\"sostave\">\r\n                    <Spacing size={8} />\r\n                    <PanelHeader left={<PanelHeaderBack />} onClick={() => this.setState({activePanel: 'base'})}>\r\n                        Состав\r\n                    </PanelHeader>\r\n                    <Separator />\r\n\r\n                    <Spacing size={18} />\r\n\r\n                    <Group>\r\n                        <RichCell\r\n                            before={<Avatar size={48} />}\r\n                            caption=\"Ученик\"\r\n                            after=\"\"\r\n                        >\r\n                            Кристина Артименко\r\n                        </RichCell>\r\n\r\n                        <RichCell\r\n                            before={<Avatar size={48} />}\r\n                            caption=\"Ученик\"\r\n                            after=\"\"\r\n                        >\r\n                            Маргарита Архипова\r\n                        </RichCell>\r\n\r\n                        <RichCell\r\n                            before={<Avatar size={48} />}\r\n                            caption=\"Ученик\"\r\n                            after=\"\"\r\n                        >\r\n                            Анастасия Буракова\r\n                        </RichCell>\r\n\r\n                        <RichCell\r\n                            before={<Avatar size={48} />}\r\n                            caption=\"Ученик\"\r\n                            after=\"\"\r\n                        >\r\n                            Николай Гончаров\r\n                        </RichCell>\r\n\r\n                        <RichCell\r\n                            before={<Avatar size={48} />}\r\n                            caption=\"Ученик\"\r\n                            after=\"\"\r\n                        >\r\n                            Светлана Колмакова\r\n                        </RichCell>\r\n\r\n                        <RichCell\r\n                            before={<Avatar size={48} />}\r\n                            caption=\"Ученик\"\r\n                            after=\"\"\r\n                        >\r\n                            Кирилл Шалкинский\r\n                        </RichCell>\r\n\r\n                        <Footer>Всего 6 обучающихся</Footer>\r\n                    </Group>\r\n                </Panel>\r\n                \r\n            </View>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activeTab: state.vkui.activeTab,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setPage,\r\n    setActiveTab,\r\n    setScrollPositionByID,\r\n    openPopout,\r\n    closePopout,\r\n    openModal\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {setPage} from \"../../store/router/actions\";\r\nimport {setActiveTab, setScrollPositionByID} from \"../../store/vk/actions\";\r\nimport {restoreScrollPosition} from \"../../services/_functions\";\r\n\r\nimport {\r\n    Panel,\r\n    Group,\r\n    PanelHeader,\r\n    CardGrid,\r\n    Separator,\r\n    Spacing\r\n} from \"@vkontakte/vkui\";\r\n\r\nimport { ContentCard } from '@vkontakte/vkui';\r\n\r\nimport {\r\n    closePopout, \r\n    openModal, \r\n    openPopout\r\n} from '../../store/router/actions';\r\n\r\nimport {} from '@vkontakte/icons';\r\n\r\nimport {View} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelProfile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n        this.state = {\r\n            activePanel: 'base'\r\n        };\r\n      }\r\n\r\n    componentDidMount() {\r\n        restoreScrollPosition();\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <View transitionMotionEnabled=\"false\" activePanel={this.state.activePanel}>\r\n                \r\n                <Panel id=\"base\">\r\n                    <Spacing size={8} />\r\n                    <PanelHeader>\r\n                        Домашнее задание\r\n                    </PanelHeader>\r\n                    <Separator />\r\n\r\n                    <Group>\r\n                        {/* <Placeholder\r\n                            icon={<Icon16Recent width={56} height={56} />}\r\n                            header=\"Тех. работы\"\r\n                        >\r\n                            Данная вкладка не доступна по техническим причинам\r\n                        </Placeholder> */}\r\n\r\n                        <CardGrid size=\"l\">\r\n                        <ContentCard\r\n                            subtitle=\"История 16.04.2021\"\r\n                            image=\"\"\r\n                            header=\"Внешняя политика Екатерины II\"\r\n                            caption=\"Домашнее задание: 22§\"\r\n                            maxHeight={150}\r\n                        />\r\n\r\n                        <ContentCard\r\n                            subtitle=\"Обществознание 16.04.2021\"\r\n                            image=\"\"\r\n                            header=\"Распределение доходов\"\r\n                            caption=\"Домашнее задание: 24§ Учить определение 'Доход' из тетради + 1 вопрос из 'Проверим себя' \"\r\n                            maxHeight={150}\r\n                        />\r\n\r\n                        <ContentCard\r\n                            subtitle=\"Немецкий язык 16.04.2021\"\r\n                            image=\"\"\r\n                            header=\"Страдательный залог\"\r\n                            caption=\"Домашнее задание: Упр. 12, стр. 195\"\r\n                            maxHeight={150}\r\n                        />\r\n\r\n                        <ContentCard\r\n                            subtitle=\"География 16.04.2021\"\r\n                            image=\"\"\r\n                            header=\"Восточная Сибирь: величие и суровость природы\"\r\n                            caption=\"Домашнее задание: 37§\"\r\n                            maxHeight={150}\r\n                        />\r\n\r\n                        <ContentCard\r\n                            subtitle=\"Русский язык 16.04.2021\"\r\n                            image=\"\"\r\n                            header=\"Обращение и знаки препинания при нём\"\r\n                            caption=\"Домашнее задание: 36§ Учить 198-199, упр. 425 (закончить), упр. 426\"\r\n                            maxHeight={150}\r\n                        />\r\n                        </CardGrid>\r\n                    </Group>\r\n                </Panel>\r\n            </View>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activeTab: state.vkui.activeTab,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setPage,\r\n    setActiveTab,\r\n    setScrollPositionByID,\r\n    openPopout,\r\n    closePopout,\r\n    openModal\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {goBack} from '../../store/router/actions';\r\nimport {setFormData} from \"../../store/formData/actions\";\r\n\r\nimport {\r\n    Div,\r\n    Button,\r\n    Checkbox,\r\n    Input,\r\n    FormLayout,\r\n    FormLayoutGroup,\r\n    Panel,\r\n    Group,\r\n    PanelHeader,\r\n    PanelHeaderBack\r\n} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelProfile extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let defaultInputData = {\r\n            workplace: '',\r\n            workposition: '',\r\n\r\n            checkboxPhoto: 0,\r\n            checkboxOnline: 0\r\n        };\r\n\r\n        this.state = {\r\n            inputData: props.inputData['example_form'] || defaultInputData\r\n        };\r\n\r\n        this.handleInput = (e) => {\r\n            let value = e.currentTarget.value;\r\n\r\n            if (e.currentTarget.type === 'checkbox') {\r\n                value = e.currentTarget.checked;\r\n            }\r\n\r\n            this.setState({\r\n                inputData: {\r\n                    ...this.state.inputData,\r\n                    [e.currentTarget.name]: value\r\n                }\r\n            })\r\n        };\r\n\r\n        this.clearForm = () => {\r\n            this.setState({\r\n                inputData: defaultInputData\r\n            });\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setFormData('example_form', this.state.inputData);\r\n    }\r\n\r\n    render() {\r\n        const {id, goBack} = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\r\n                >\r\n                    Модальное окно\r\n                </PanelHeader>\r\n                <Group>\r\n                    <FormLayout>\r\n                        <FormLayoutGroup top=\"Работа\">\r\n                            <Input value={this.state.inputData.workplace}\r\n                                   onChange={this.handleInput}\r\n                                   name=\"workplace\"\r\n                                   placeholder=\"Место работы\"\r\n                                   autoComplete=\"off\"/>\r\n                            <Input value={this.state.inputData.workposition}\r\n                                   onChange={this.handleInput}\r\n                                   name=\"workposition\"\r\n                                   placeholder=\"Должность\"\r\n                                   autoComplete=\"off\"/>\r\n                        </FormLayoutGroup>\r\n                        <FormLayoutGroup top=\"Дополнительно\">\r\n                            <Checkbox checked={this.state.inputData.checkboxPhoto}\r\n                                      onChange={this.handleInput}\r\n                                      name=\"checkboxPhoto\"\r\n                            >С фотографией</Checkbox>\r\n                            <Checkbox checked={this.state.inputData.checkboxOnline}\r\n                                      onChange={this.handleInput}\r\n                                      name=\"checkboxOnline\"\r\n                            >Сейчас на сайте</Checkbox>\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                    <Div className=\"buttons-group\">\r\n                        <Button size=\"l\" stretched={true} onClick={() => goBack()}>Сохранить</Button>\r\n                        <Button size=\"l\" stretched={true} onClick={this.clearForm}>Очистить</Button>\r\n                    </Div>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        inputData: state.formData.forms,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setFormData,\r\n    goBack\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);","import {SET_FORM_DATA} from './actionTypes';\r\n\r\nexport const setFormData = (formName, inputData) => (\r\n    {\r\n        type: SET_FORM_DATA,\r\n        payload: {\r\n            form: formName,\r\n            data: inputData,\r\n        }\r\n    }\r\n);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {openModal} from \"../../store/router/actions\";\r\n\r\nimport {List, Cell, Avatar, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\r\n\r\nconst bots = [\r\n    {\r\n        name: 'VKS',\r\n        avatar: 'https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg',\r\n        desc: 'Нет, меня не роняли в детстве'\r\n    },\r\n    {\r\n        name: 'Недобот',\r\n        avatar: 'https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg',\r\n        desc: 'Я ни разу не пил кокосовое молоко'\r\n    },\r\n    {\r\n        name: 'Realm of War',\r\n        avatar: 'https://sun9-72.userapi.com/c853520/v853520591/1f167d/avj_z9yFtQA.jpg?ava=1',\r\n        desc: 'Ненавижу спойлеры.'\r\n    },\r\n];\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose, openModal, platform} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={platform !== IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\r\n                        right={platform === IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\r\n                    >\r\n                        /appbots на минималках\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <List>\r\n                    {bots.map((bot, index) => (\r\n                        <Cell\r\n                            key={index}\r\n                            description={bot.desc}\r\n                            before={<Avatar size={40} src={bot.avatar}/>}\r\n                            onClick={() => openModal('MODAL_PAGE_BOT_INFO')}\r\n                            asideContent={<Icon24Chevron fill=\"#528bcc\"/>}\r\n                        >\r\n                            {bot.name}\r\n                        </Cell>\r\n                    ))}\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    openModal\r\n};\r\n\r\nexport default withPlatform(connect(null, mapDispatchToProps)(HomeBotsListModal));\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {Cell, List, Avatar, InfoRow, ModalPage, ModalPageHeader, PanelHeaderButton, withPlatform, IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose, platform} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={platform !== IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Cancel/></PanelHeaderButton>}\r\n                        right={platform === IOS &&\r\n                        <PanelHeaderButton onClick={onClose}><Icon24Dismiss/></PanelHeaderButton>}\r\n                    >\r\n                        Информация о боте\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <Cell\r\n                    description=\"Описание\"\r\n                    before={<Avatar size={40} src=\"https://vk.com/images/community_100.png?ava=1\"/>}\r\n                >\r\n                    Название\r\n                </Cell>\r\n                <List>\r\n                    <Cell>\r\n                        <InfoRow header=\"Подписчиков\">\r\n                            8800\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow header=\"Записей\">\r\n                            555\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow header=\"Рейтинг\">\r\n                            3535\r\n                        </InfoRow>\r\n                    </Cell>\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default withPlatform(connect()(HomeBotsListModal));\r\n","import React, { useState, useEffect } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux'\r\nimport {goBack, closeModal, setStory} from \"./js/store/router/actions\";\r\nimport {getActivePanel} from \"./js/services/_functions\";\r\nimport * as VK from './js/services/VK';\r\n\r\nimport {Epic, View, Root, Tabbar, ModalRoot, TabbarItem, ModalCard, Button, withPlatform} from \"@vkontakte/vkui\";\r\n\r\nimport {\r\n    AdaptivityProvider,\r\n    ConfigProvider,\r\n    useAdaptivity,\r\n    AppRoot,\r\n    SplitLayout,\r\n    SplitCol,\r\n    ViewWidth,\r\n    Panel,\r\n    PanelHeader,\r\n    Header,\r\n    Group,\r\n    SimpleCell,\r\n    ScreenSpinner,\r\n    withAdaptivity\r\n  } from \"@vkontakte/vkui\";\r\n\r\nimport {\r\n    Icon28Menu, \r\n    Icon28HomeOutline,\r\n    Icon56BlockOutline,\r\n    Icon28BookOutline\r\n} from '@vkontakte/icons';\r\n\r\nimport HomePanelBase from './js/panels/home/base';\r\nimport HomePanelGroups from './js/panels/home/groups';\r\n\r\nimport MorePanelBase from './js/panels/more/base';\r\n\r\nimport WorkPanelBase from './js/panels/work/base'\r\n\r\nimport MorePanelExample from './js/panels/more/example';\r\n\r\nimport HomeBotsListModal from './js/components/modals/HomeBotsListModal';\r\nimport HomeBotInfoModal from './js/components/modals/HomeBotInfoModal';\r\n\r\nimport bridge from '@vkontakte/vk-bridge';\r\n\r\nconst MODAL_CARD_NEWS = 'news';\r\n\r\nconst Exx = withPlatform(withAdaptivity(class App extends React.Component { \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.lastAndroidBackAction = 0;\r\n        this.showsneg = 0;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {goBack, dispatch} = this.props;\r\n\r\n        dispatch(VK.initApp());\r\n\r\n        window.onpopstate = () => {\r\n            let timeNow = +new Date();\r\n\r\n            if (timeNow - this.lastAndroidBackAction > 500) {\r\n                this.lastAndroidBackAction = timeNow;\r\n\r\n                goBack();\r\n            } else {\r\n                window.history.pushState(null, null);\r\n            }\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const {activeView, activeStory, activePanel, scrollPosition} = this.props;\r\n\r\n        if (\r\n            prevProps.activeView !== activeView ||\r\n            prevProps.activePanel !== activePanel ||\r\n            prevProps.activeStory !== activeStory\r\n        ) {\r\n            let pageScrollPosition = scrollPosition[activeStory + \"_\" + activeView + \"_\" + activePanel] || 0;\r\n\r\n            window.scroll(0, pageScrollPosition);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {goBack, setStory, closeModal, popouts, activeView, activeStory, activeModals, panelsHistory, colorScheme} = this.props;\r\n        \r\n        let history = (panelsHistory[activeView] === undefined) ? [activeView] : panelsHistory[activeView];\r\n        let popout = (popouts[activeView] === undefined) ? null : popouts[activeView];\r\n        let activeModal = (activeModals[activeView] === undefined) ? null : activeModals[activeView];\r\n        \r\n        const homeModals = (\r\n            <ModalRoot activeModal={activeModal}>\r\n                <HomeBotsListModal\r\n                    id=\"MODAL_PAGE_BOTS_LIST\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n                <HomeBotInfoModal\r\n                    id=\"MODAL_PAGE_BOT_INFO\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n                <ModalCard\r\n                    id={MODAL_CARD_NEWS}\r\n                    onClose={() => closeModal()}\r\n                    icon={<Icon56BlockOutline />}\r\n                    header=\"Данная страница временно не доступна!\"\r\n                    actions={\r\n                        <Button size=\"l\" mode=\"primary\" onClick={() => closeModal()}>\r\n                        Я понял\r\n                        </Button>\r\n                    }\r\n                    >\r\n                </ModalCard>\r\n            </ModalRoot>\r\n        );\r\n\r\n        return (\r\n            <ConfigProvider transitionMotionEnabled=\"false\" scheme={colorScheme}>\r\n                <AdaptivityProvider>\r\n                    <Epic activeStory={activeStory} tabbar={\r\n                        <Tabbar>\r\n                            \r\n                            <TabbarItem\r\n                                onClick={() => setStory('home', 'base')}\r\n                                selected={activeStory === 'home'} text=\"Главная\">\r\n                                <Icon28HomeOutline/>\r\n                            </TabbarItem>\r\n\r\n                            <TabbarItem\r\n                                onClick={() => setStory('work', 'base')}\r\n                                selected={activeStory === 'work'} text=\"ДЗ\">\r\n                                <Icon28BookOutline />\r\n                            </TabbarItem>\r\n\r\n                            <TabbarItem\r\n                                onClick={() => setStory('more', 'base')}\r\n                                selected={activeStory === 'more'} text=\"Ещё\">\r\n                                <Icon28Menu/>\r\n                            </TabbarItem>\r\n\r\n                        </Tabbar>\r\n                    }>\r\n                        <Root id=\"home\" activeView={activeView} popout={popout}>\r\n                            <View\r\n                                id=\"home\"\r\n                                modal={homeModals}\r\n                                activePanel={getActivePanel(\"home\")}\r\n                                history={history}\r\n                                onSwipeBack={() => goBack()}\r\n                            >\r\n                                <HomePanelBase id=\"base\" withoutEpic={false}/>\r\n                                <HomePanelGroups id=\"groups\"/>\r\n                            </View>\r\n                        </Root>\r\n\r\n                        <Root id=\"work\" activeView={activeView} popout={popout} withoutEpic={false}>\r\n                            <View\r\n                                id=\"work\"\r\n                                modal={homeModals}\r\n                                activePanel={getActivePanel(\"work\")}\r\n                                history={history}\r\n                                onSwipeBack={() => goBack()}\r\n                            >\r\n                                <WorkPanelBase id=\"base\" />\r\n                            </View>\r\n                        </Root>\r\n\r\n                        <Root id=\"more\" activeView={activeView} popout={popout} withoutEpic={false}>\r\n                            <View\r\n                                id=\"more\"\r\n                                modal={homeModals}\r\n                                activePanel={getActivePanel(\"more\")}\r\n                                history={history}\r\n                                onSwipeBack={() => goBack()}\r\n                            >\r\n                                <MorePanelBase id=\"base\" />\r\n                            </View>\r\n\r\n                            <View\r\n                                id=\"modal\"\r\n                                modal={homeModals}\r\n                                activePanel={getActivePanel(\"modal\")}\r\n                                history={history}\r\n                                onSwipeBack={() => goBack()}\r\n                            >\r\n                                <MorePanelExample id=\"filters\"/>\r\n                            </View>\r\n                        </Root>\r\n\r\n                    </Epic>\r\n                </AdaptivityProvider>\r\n            </ConfigProvider>\r\n        );\r\n    }\r\n})\r\n);\r\n\r\n\r\nclass Appf extends React.Component { \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.lastAndroidBackAction = 0;\r\n        this.showsneg = 0;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {goBack, dispatch} = this.props;\r\n\r\n        dispatch(VK.initApp());\r\n\r\n        window.onpopstate = () => {\r\n            let timeNow = +new Date();\r\n\r\n            if (timeNow - this.lastAndroidBackAction > 500) {\r\n                this.lastAndroidBackAction = timeNow;\r\n\r\n                goBack();\r\n            } else {\r\n                window.history.pushState(null, null);\r\n            }\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const {activeView, activeStory, activePanel, scrollPosition} = this.props;\r\n\r\n        if (\r\n            prevProps.activeView !== activeView ||\r\n            prevProps.activePanel !== activePanel ||\r\n            prevProps.activeStory !== activeStory\r\n        ) {\r\n            let pageScrollPosition = scrollPosition[activeStory + \"_\" + activeView + \"_\" + activePanel] || 0;\r\n\r\n            window.scroll(0, pageScrollPosition);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {goBack, setStory, closeModal, popouts, activeView, activeStory, activeModals, panelsHistory, colorScheme} = this.props;\r\n        const { viewWidth } = useAdaptivity();\r\n\r\n        let history = (panelsHistory[activeView] === undefined) ? [activeView] : panelsHistory[activeView];\r\n        let popout = (popouts[activeView] === undefined) ? null : popouts[activeView];\r\n        let activeModal = (activeModals[activeView] === undefined) ? null : activeModals[activeView];\r\n\r\n        const homeModals = (\r\n            <ModalRoot activeModal={activeModal}>\r\n                <HomeBotsListModal\r\n                    id=\"MODAL_PAGE_BOTS_LIST\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n                <HomeBotInfoModal\r\n                    id=\"MODAL_PAGE_BOT_INFO\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n                <ModalCard\r\n                    id={MODAL_CARD_NEWS}\r\n                    onClose={() => closeModal()}\r\n                    icon={<Icon56BlockOutline />}\r\n                    header=\"Данная страница временно не доступна!\"\r\n                    actions={\r\n                        <Button size=\"l\" mode=\"primary\" onClick={() => closeModal()}>\r\n                        Я понял\r\n                        </Button>\r\n                    }\r\n                    >\r\n                </ModalCard>\r\n            </ModalRoot>\r\n        );\r\n\r\n        return (\r\n            <AppRoot>\r\n                <Root>\r\n                <SplitLayout header={<PanelHeader separator={false} />}>\r\n                    <SplitCol spaced={viewWidth > ViewWidth.MOBILE}>\r\n                            <View>\r\n                                <Epic activeStory={activeStory} tabbar={\r\n                                    <Tabbar>\r\n                                        \r\n                                        <TabbarItem\r\n                                            onClick={() => setStory('home', 'base')}\r\n                                            selected={activeStory === 'home'} text=\"Главная\">\r\n                                            <Icon28HomeOutline/>\r\n                                        </TabbarItem>\r\n\r\n                                        <TabbarItem\r\n                                            onClick={() => setStory('work', 'base')}\r\n                                            selected={activeStory === 'work'} text=\"ДЗ\">\r\n                                            <Icon28BookOutline />\r\n                                        </TabbarItem>\r\n\r\n                                        <TabbarItem\r\n                                            onClick={() => setStory('more', 'base')}\r\n                                            selected={activeStory === 'more'} text=\"Ещё\">\r\n                                            <Icon28Menu/>\r\n                                        </TabbarItem>\r\n\r\n                                    </Tabbar>\r\n                                }>\r\n                                    <Root id=\"home\" activeView={activeView} popout={popout}>\r\n                                        <View\r\n                                            id=\"home\"\r\n                                            modal={homeModals}\r\n                                            activePanel={getActivePanel(\"home\")}\r\n                                            history={history}\r\n                                            onSwipeBack={() => goBack()}\r\n                                        >\r\n                                            <HomePanelBase id=\"base\" withoutEpic={false}/>\r\n                                            <HomePanelGroups id=\"groups\"/>\r\n                                        </View>\r\n                                    </Root>\r\n\r\n                                    <Root id=\"work\" activeView={activeView} popout={popout} withoutEpic={false}>\r\n                                        <View\r\n                                            id=\"work\"\r\n                                            modal={homeModals}\r\n                                            activePanel={getActivePanel(\"work\")}\r\n                                            history={history}\r\n                                            onSwipeBack={() => goBack()}\r\n                                        >\r\n                                            <WorkPanelBase id=\"base\" />\r\n                                        </View>\r\n                                    </Root>\r\n\r\n                                    <Root id=\"more\" activeView={activeView} popout={popout} withoutEpic={false}>\r\n                                        <View\r\n                                            id=\"more\"\r\n                                            modal={homeModals}\r\n                                            activePanel={getActivePanel(\"more\")}\r\n                                            history={history}\r\n                                            onSwipeBack={() => goBack()}\r\n                                        >\r\n                                            <MorePanelBase id=\"base\" />\r\n                                        </View>\r\n\r\n                                        <View\r\n                                            id=\"modal\"\r\n                                            modal={homeModals}\r\n                                            activePanel={getActivePanel(\"modal\")}\r\n                                            history={history}\r\n                                            onSwipeBack={() => goBack()}\r\n                                        >\r\n                                            <MorePanelExample id=\"filters\"/>\r\n                                        </View>\r\n                                    </Root>\r\n\r\n                                </Epic>\r\n                            </View>\r\n                    </SplitCol>\r\n                </SplitLayout>\r\n                </Root>\r\n            </AppRoot>\r\n        );\r\n    }\r\n}\r\n\r\nconst App = () => {\r\n    const { viewWidth } = useAdaptivity();\r\n\r\n    const [activePanel, setActivePanel] = useState('home');\r\n\tconst [fetchedUser, setUser] = useState(null);\r\n\tconst [popouot, setPopout] = useState(<ScreenSpinner size='large' />);\r\n\r\n\tuseEffect(() => {\r\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\r\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\r\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\n\t\t\t}\r\n\t\t});\r\n\t\tasync function fetchData() {\r\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\r\n\t\t\tsetUser(user);\r\n\t\t\tsetPopout(null);\r\n\t\t}\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n    return (\r\n            <AppRoot>\r\n                <SplitLayout header={<PanelHeader separator={false} />}>\r\n                    <SplitCol spaced={viewWidth > ViewWidth.MOBILE}>\r\n                        <View activePanel={activePanel}>\r\n                            <Tabbar>\r\n                                <TabbarItem\r\n                                    selected text=\"Главная\">\r\n                                    <Icon28HomeOutline/>\r\n                                </TabbarItem>\r\n\r\n                                <TabbarItem\r\n                                    text=\"ДЗ\">\r\n                                    <Icon28BookOutline />\r\n                                </TabbarItem>\r\n\r\n                                <TabbarItem\r\n                                    text=\"Ещё\">\r\n                                    <Icon28Menu/>\r\n                                </TabbarItem>\r\n                            </Tabbar>\r\n                        </View>\r\n                    </SplitCol>\r\n                </SplitLayout>\r\n            </AppRoot>\r\n        );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activeView: state.router.activeView,\r\n        activeStory: state.router.activeStory,\r\n        panelsHistory: state.router.panelsHistory,\r\n        activeModals: state.router.activeModals,\r\n        popouts: state.router.popouts,\r\n        scrollPosition: state.router.scrollPosition,\r\n\r\n        colorScheme: state.vkui.colorScheme\r\n    };\r\n};\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({setStory, goBack, closeModal}, dispatch)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Appf);\r\n","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {applyMiddleware, createStore} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport {Provider} from 'react-redux';\r\nimport rootReducer from './js/store/reducers';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\nimport {setStory} from \"./js/store/router/actions\";\r\n\r\nimport {AdaptivityProvider, ConfigProvider, Spacing} from \"@vkontakte/vkui\";\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './css/main.css';\r\n\r\nimport App from './App';\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(\r\n    applyMiddleware(thunk),\r\n));\r\n\r\nstore.dispatch(setStory('home', 'base'));\r\n\r\nReactDOM.render(\r\n            <Provider store={store}>\r\n                    <App />\r\n            </Provider>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}